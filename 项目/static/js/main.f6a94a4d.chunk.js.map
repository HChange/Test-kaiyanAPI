{"version":3,"sources":["utils/http.js","utils/api.js","components/Loading/Loading.js","pages/home/reducer.js","App.js","store/index.js","index.js"],"names":["get","url","a","fetch","response","json","data","console","log","HOST","REQUEST_DATA","VIDEO_DETAIL","HOT_REP","RELATED","FOLLOW","SEARCH","CATEGORY","SHOW_CATEGORY","TOPIC_DETAIL","TOPIC","AUTHOR","load","props","className","noTop","noBottom","src","alt","initialState","itemList","nextPageUrl","requestData","dispatch","api","action","setData","val","type","rudcer","state","filter","item","nextPublishTime","replace","Home","lazy","Detail","Reply","Station","Found","Notice","Ndtail","Upload","Mine","Login","NotFound","App","fallback","Loading","path","exact","render","to","component","Component","reducer","combineReducers","home","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.f6a94a4d.chunk.js","sourcesContent":["import \"whatwg-fetch\";\r\n\r\nexport const get = async (url) => {\r\n  try {\r\n    let response = await fetch(url);\r\n    let data = await response.json();\r\n    // console.log(data);  \r\n    return data;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\nexport const post = async (url, rdata) => {\r\n  var fetchOptions = {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(rdata)\r\n  };\r\n  try {\r\n    let response = await fetch(url, fetchOptions);\r\n    let data = await response.json();\r\n    // console.log(data);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n","const HOST = \"http://localhost:3000\";\r\n\r\n// 首页数据\r\nconst REQUEST_DATA =HOST+\"/api/v4/tabs/selected\";\r\n// 详情页\r\nconst VIDEO_DETAIL = HOST + \"/api/v1/video/\";\r\n// 评论热门十条 无后面的所有评论\r\nconst HOT_REP = HOST + '/api/v1/replies/video?id={{id}}&num=100&type=video';\r\n// 推荐\r\nconst RELATED = HOST + \"/api/v4/video/related?id={{id}}&f=iphone&vc=4800\";\r\n// 关注\r\nconst FOLLOW = HOST + \"/api/v4/tabs/follow\";\r\n// 搜索\r\nconst SEARCH = HOST + \"/api/v1/search?query={{key}}\";\r\n// 总类\r\nconst CATEGORY = HOST + \"/api/v4/discovery/category\";\r\n// 展示的种类\r\nconst SHOW_CATEGORY = HOST + \"/api/v2/categories\";\r\n// 话题详情\r\nconst TOPIC_DETAIL = HOST+\"/api/v2/replies/video?type=topic&videoId={{id}}\"\r\n// 话题\r\nconst TOPIC = HOST + \"/api/v7/topic/detail?id={{id}}\";\r\n// 作者\r\nconst AUTHOR =\r\n  HOST +\r\n  \"/api/v3/pgc/videos?pgcId={{id}}&strategy=date&udid=0ac0ebf78bde4d4996c9365e3f63acc56ccc1c63\";\r\nexport default {\r\n  HOST,\r\n  REQUEST_DATA,\r\n  VIDEO_DETAIL,\r\n  HOT_REP,\r\n  RELATED,\r\n  FOLLOW,\r\n  SEARCH,\r\n  CATEGORY,\r\n  SHOW_CATEGORY,\r\n  TOPIC_DETAIL,\r\n  TOPIC,\r\n  AUTHOR\r\n};","import React from \"react\";\nimport \"./style.scss\";\nconst load = (props) => {\n  return (\n    <div className={`loading ${props.noTop?\"noTop\":\"\" + props.noBottom?\"props.noBottom\":\"\"}`}>\n      <img\n        src=\"http://img.zcool.cn/community/012b3c599276cc0000002129ebff53.gif\"\n        alt=\"loading\"\n      />\n    </div>\n  );\n};\n\nexport default load;\n","\r\nimport api from \"../../utils/api\";\r\nimport {get} from \"../../utils/http\";\r\n\r\nconst initialState = {\r\n    itemList:[],\r\n    nextPageUrl:\"\"\r\n};\r\n\r\nconst rudcer = (state = initialState, action) => {\r\n  // console.log(state);\r\n  \r\n  switch (action.type) {\r\n    case \"setData\":\r\n        console.log(action.data.nextPageUrl);\r\n        \r\n      return {\r\n        ...state,\r\n        itemList: [\r\n          ...state.itemList,\r\n          ...action.data.itemList.filter(item => item.type === \"video\")\r\n        ],\r\n        nextPageUrl:\r\n          action.data.nextPageUrl === null\r\n            ? \"/api/v4/tabs/selected?date=\" + action.data.nextPublishTime\r\n            : action.data.nextPageUrl.replace(\"http://baobab.kaiyanapp.com/\",\"/\")\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const requestData = (url)=>  async dispatch => {\r\n  console.log(url);\r\n  let data = \"\"\r\n  if(!url){\r\n    data = await get(api.REQUEST_DATA);\r\n  }else{\r\n    data = await get(url);\r\n  }\r\n  let action = setData(data);\r\n  dispatch(action);\r\n};\r\n\r\nexport const setData = (val)=>({\r\n  type: 'setData',\r\n  data: val\r\n})\r\n\r\nexport default rudcer;\r\n","import React, { Component, lazy, Suspense } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch\r\n} from \"react-router-dom\";\r\nimport Loading from \"./components/Loading/Loading\";\r\n// import Tabs from \"./components/Tabs/Tabs\";\r\n// import Header from \"./components/Header/Header\";\r\n\r\nconst Home = lazy(() => import(\"./pages/home/home\"));\r\nconst Detail = lazy(() => import(\"./pages/home/detail/detail\"));\r\nconst Reply = lazy(() => import(\"./pages/home/detail/children/reply\"));\r\nconst Station = lazy(() => import(\"./pages/home/detail/station\"));\r\nconst Found = lazy(() => import(\"./pages/found/found\"));\r\nconst Notice = lazy(() => import(\"./pages/notice/notice\"));\r\nconst Ndtail = lazy(() => import(\"./pages/notice/detail/detail\"));\r\nconst Upload = lazy(() => import(\"./pages/upload/upload\"));\r\nconst Mine = lazy(() => import(\"./pages/mine/mine\"));\r\nconst Login = lazy(() => import(\"./pages/mine/login/login\"));\r\n// const Register = lazy(() => import(\"./pages/mine/register/register\"));\r\nconst NotFound = lazy(() => import(\"./pages/common/not-found/not-found\"));\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Suspense fallback={<Loading />}>\r\n          {/* <Header /> */}\r\n\r\n          {/* 根页面 */}\r\n          <Switch>\r\n            <Route\r\n              path=\"/\"\r\n              exact\r\n              render={() => {\r\n                return <Redirect to=\"/home\" />;\r\n              }}\r\n            />\r\n            <Route path=\"/home\" component={Home} />\r\n            <Route path=\"/found\" component={Found} />\r\n            <Route path=\"/upload\" component={Upload} />\r\n            <Route path=\"/notice\" component={Notice} />\r\n            <Route path=\"/mine\" component={Mine} />\r\n\r\n            <Route path=\"/login\" component={Login} />\r\n            {/* <Route path=\"/register\" component={Register} /> */}\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n          <>\r\n            <Route path=\"/home/station\" component={Station} />\r\n            <Route path=\"/home/detail\" component={Detail} />\r\n            <Route path=\"/notice/detail/:id\" component={Ndtail}/>\r\n          </>\r\n          <>\r\n            <Route path=\"/home/detail/reply/:id\" component={Reply} />\r\n          </>\r\n\r\n          {/* <Tabs /> */}\r\n        </Suspense>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport home from \"../pages/home/reducer\"\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst reducer = combineReducers({\r\n    home\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./style/reset.scss\";\r\nimport \"./style/style.scss\";\r\nimport \"./style/border.scss\";\r\nimport store from \"./store\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"lib-flexible\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}