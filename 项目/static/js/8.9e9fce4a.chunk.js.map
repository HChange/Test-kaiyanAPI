{"version":3,"sources":["components/Scroll/Scroll.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","pages/home/detail/children/reply.js"],"names":["Scroll","style","this","props","className","ref","children","BScroll","refs","scroll","tap","click","probeType","freeScroll","Component","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","memo","useState","reply","setReply","like","id","newReply","replyList","map","item","likeCount","useEffect","a","get","api","HOT_REP","replace","match","params","rep","fetchData","top","bottom","key","href","src","user","avatar","alt","nickname","onClick","message"],"mappings":"6MAGqBA,G,uLAEjB,OACE,yBAAKC,MAAOC,KAAKC,MAAMF,MAAQG,UAAU,SAASC,IAAI,UACpD,yBAAKD,UAAU,iBAAiBF,KAAKC,MAAMG,a,0CAK/C,IAAIC,IAAQL,KAAKM,KAAKC,OAAQ,CAC5BC,KAAK,EACLC,OAAO,EACPC,UAAW,EACXC,YAAW,Q,GAbmBC,e,qDCArB,SAASC,EAAeC,EAAKC,GAC1C,OCJa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDGxB,CAAeA,IEJT,SAA+BA,EAAKC,GACjD,GAAMG,OAAOC,YAAYC,OAAON,IAAgD,uBAAxCM,OAAOC,UAAUC,SAASC,KAAKT,GAAvE,CAIA,IAAIU,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKhB,EAAII,OAAOC,cAAmBM,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAETnB,GAAKS,EAAKW,SAAWpB,GAH8CU,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFvBuB,CAAqBV,EAAKC,IGJ3C,WACb,MAAM,IAAIsB,UAAU,wDHG0C,GAJhE,mC,oXIOeC,0BAAK,SAACrC,GAAS,IAAD,EACCsC,mBAAS,IADV,mBAClBC,EADkB,KACXC,EADW,KAazB,SAASC,EAAKC,GACV,IAAIC,E,yWAAQ,IACPJ,EADO,CAEVK,UAAWL,EAAMK,UAAUC,KAAI,SAAAC,GAI7B,OAHIA,EAAKJ,KAAOA,GACdI,EAAKC,YAEAD,OAIXN,EAASG,GAIb,OAzBAK,qBAAU,WAAI,4CAGV,4BAAAC,EAAA,sEACoBC,YAAIC,IAAIC,QAAQC,QAAQ,SAASrD,EAAMsD,MAAMC,OAAOb,KADxE,OACQc,EADR,OAGIhB,EAASgB,GAHb,4CAHU,0DAEVC,KAMF,CAACzD,IAkBH,oCACA,yBAAKC,UAAU,SACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAASH,MAAO,CAAE4D,IAAK,EAAGC,OAAQ,IAC9B,wDAEFpB,EAAMK,WACJL,EAAMK,UAAUC,KAAI,SAAAC,GAClB,OACE,yBAAK7C,UAAU,qBAAqB2D,IAAKd,EAAKJ,IAC5C,uBAAGmB,KAAK,iCACN,yBAAKC,IAAKhB,EAAKiB,KAAKC,OAAQC,IAAKnB,EAAKiB,KAAKrB,MAE7C,yBAAKzC,UAAU,UACb,wBAAIA,UAAU,QACZ,0BACEA,UAAU,gBACVH,MAAO,CAAE,SAAY,QAEpBgD,EAAKiB,KAAKG,UAEb,yBAAKjE,UAAU,SACb,8BAAO6C,EAAKC,WACZ,0BAAMoB,QAAS,WACX1B,EAAKK,EAAKJ,KACXzC,UAAU,2BAGjB,2BAAI6C,EAAKsB","file":"static/js/8.9e9fce4a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport BScroll from \"better-scroll\";\r\nimport \"./style.scss\";\r\nexport default class Scroll extends Component {\r\n  render() {\r\n    return (\r\n      <div style={this.props.style}  className=\"scroll\" ref=\"scroll\">\r\n        <div className=\"scrollContent\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    new BScroll(this.refs.scroll, {\r\n      tap: true,\r\n      click: true,\r\n      probeType: 3,\r\n      freeScroll:true\r\n      //下拉\r\n      // pullDownRefresh: {\r\n      //   threshold: 44.44,\r\n      //   // stop: 44.44\r\n      // },\r\n      // //上拉\r\n      // pullUpLoad: {\r\n      //   threshold: 44.44,\r\n      //   // pullDownRefresh: true, // 默认stop: 40\r\n      //   stop: 40\r\n      // },\r\n\r\n    });\r\n    //下拉\r\n    // scroll.on(\"pullingDown\", () => {\r\n    //   // this.getData();\r\n    //   // this.props.onRefresh();\r\n    //   scroll.finishPullDown();\r\n    //   scroll.refresh();\r\n    // });\r\n    // //上拉\r\n    // scroll.on(\"pullingUp\", () => {\r\n    //   // this.getData();\r\n      \r\n    //   setTimeout(() => {\r\n    //     console.log(111);\r\n    //    scroll.finishPullUp();\r\n    //     // scroll.refresh();\r\n    //   }, 10000);\r\n     \r\n    // });\r\n\r\n    \r\n\r\n    //下拉\r\n   \r\n  }\r\n}\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React,{useEffect,useState,memo} from 'react';\r\nimport { get } from \"../../../../utils/http\";\r\nimport api from \"../../../../utils/api\";\r\nimport Scroll from \"../../../../components/Scroll/Scroll\"\r\nimport \"./style.scss\"\r\n\r\n\r\nexport default memo((props)=>{\r\n    const [reply, setReply] = useState({})\r\n    // const [canRender, setCanRender] = useState(1)\r\n    useEffect(()=>{\r\n        // console.log(props);\r\n        fetchData();\r\n        async function fetchData(){\r\n            let rep = await get(api.HOT_REP.replace(\"{{id}}\",props.match.params.id));\r\n            // console.log(rep);\r\n            setReply(rep);\r\n        }\r\n    },[props])\r\n\r\n    function like(id){\r\n        let newReply = {\r\n          ...reply,\r\n          replyList: reply.replyList.map(item => {\r\n            if (item.id === id) {\r\n              item.likeCount++;\r\n            }\r\n            return item;\r\n          })\r\n        };\r\n        // console.log(newReply);\r\n        setReply(newReply);\r\n        // console.log(reply);\r\n        // setCanRender(canRender+1)   \r\n    }\r\n    return (\r\n    <>\r\n    <div className=\"mask\"></div>\r\n      <div className=\"allReply\">\r\n        <Scroll  style={{ top: 0, bottom: 0 }}>\r\n            <h1>所有评论</h1>\r\n          {// eslint-disable-next-line array-callback-return\r\n          reply.replyList &&\r\n            reply.replyList.map(item => {\r\n              return (\r\n                <div className=\"item border-bottom\" key={item.id}>\r\n                  <a href=\"https://lkme.cc/3rC/MknNg3oyL\">\r\n                    <img src={item.user.avatar} alt={item.user.id} />\r\n                  </a>\r\n                  <div className=\"center\">\r\n                    <h2 className=\"name\">\r\n                      <span\r\n                        className=\"text-overflow\"\r\n                        style={{ \"maxWidth\": \"40%\" }}\r\n                      >\r\n                        {item.user.nickname}\r\n                      </span>\r\n                      <div className=\"liked\">\r\n                        <span>{item.likeCount}</span>\r\n                        <span onClick={()=>{\r\n                            like(item.id)\r\n                        }} className=\"iconfont icon-xihuan\"></span>\r\n                      </div>\r\n                    </h2>\r\n                    <p>{item.message}</p>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </Scroll>\r\n      </div>\r\n      </>\r\n    );\r\n})"],"sourceRoot":""}