{"version":3,"sources":["components/Scroll/Scroll.js","components/Tabs/Tabs.js","components/Header/Header.js","pages/home/home.js"],"names":["Scroll","style","this","props","className","ref","children","BScroll","refs","scroll","tap","click","probeType","freeScroll","Component","tabList","id","title","icon","to","Tabs","map","item","key","hasBack","onClick","history","goBack","home","state","console","log","showList","itemList","Math","random","pathname","data","src","cover","detail","replace","alt","parseInt","duration","author","name","category","onRefresh","getData","onLoadMore","href","loadMoreAction","bind","nextPageUrl","length","url","PureComponent","connect","dispatch","action","requestData"],"mappings":"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","file":"static/js/5.42d895e2.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport BScroll from \"better-scroll\";\r\nimport \"./style.scss\";\r\nexport default class Scroll extends Component {\r\n  render() {\r\n    return (\r\n      <div style={this.props.style}  className=\"scroll\" ref=\"scroll\">\r\n        <div className=\"scrollContent\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    new BScroll(this.refs.scroll, {\r\n      tap: true,\r\n      click: true,\r\n      probeType: 3,\r\n      freeScroll:true\r\n      //下拉\r\n      // pullDownRefresh: {\r\n      //   threshold: 44.44,\r\n      //   // stop: 44.44\r\n      // },\r\n      // //上拉\r\n      // pullUpLoad: {\r\n      //   threshold: 44.44,\r\n      //   // pullDownRefresh: true, // 默认stop: 40\r\n      //   stop: 40\r\n      // },\r\n\r\n    });\r\n    //下拉\r\n    // scroll.on(\"pullingDown\", () => {\r\n    //   // this.getData();\r\n    //   // this.props.onRefresh();\r\n    //   scroll.finishPullDown();\r\n    //   scroll.refresh();\r\n    // });\r\n    // //上拉\r\n    // scroll.on(\"pullingUp\", () => {\r\n    //   // this.getData();\r\n      \r\n    //   setTimeout(() => {\r\n    //     console.log(111);\r\n    //    scroll.finishPullUp();\r\n    //     // scroll.refresh();\r\n    //   }, 10000);\r\n     \r\n    // });\r\n\r\n    \r\n\r\n    //下拉\r\n   \r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\nlet tabList = [\r\n  { id: 1, title: \"首页\", icon: \"iconfont icon-sanjiaoxing\", to: \"/home\" },\r\n  {\r\n    id: 2,\r\n    title: \"发现\",\r\n    icon: \"iconfont icon-zhengfangxing\",\r\n    to: \"/found\"\r\n  },\r\n  { id: 3, title: \"\", icon: \"iconfont icon-shangchuan\", to: \"/upload\" },\r\n  { id: 4, title: \"通知\", icon: \"iconfont icon-yuan\", to: \"/notice\" },\r\n  { id: 5, title: \"我的\", icon: \"iconfont icon-cha\", to: \"/mine\" }\r\n];\r\nexport default class Tabs extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"tabs\" className=\"border-top\">\r\n        {tabList.map(item => {\r\n\r\n          if(item.id===3){\r\n            return (\r\n              <NavLink key={item.id} to={item.to}>\r\n                <em className={item.icon}></em>\r\n              </NavLink>\r\n            );\r\n          }\r\n          return (\r\n            <NavLink key={item.id} to={item.to}>\r\n              <em className={item.icon}></em>\r\n              <span>{item.title}</span>\r\n            </NavLink>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./style.scss\"\r\nexport default props => {\r\n  return (\r\n    <div className=\"header border-bottom\">\r\n      <span\r\n        className={`back iconfont icon-fanhui ${\r\n          props.hasBack&& \"show\"\r\n        }`}\r\n        onClick={() => {\r\n          props.history.goBack();\r\n        }}\r\n      ></span>\r\n      <h3>{props.title}</h3>\r\n    </div>\r\n  );\r\n};\r\n","import React, { PureComponent } from \"react\";\r\nimport Scroll from \"../../components/Scroll/Scroll\";\r\nimport Tabs from \"../../components/Tabs/Tabs\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport{ Link} from \"react-router-dom\"\r\n// import {Link} from \"react-router-dom\"\r\nimport { connect } from \"react-redux\";\r\nimport { requestData } from \"./reducer\";\r\nimport \"./style.scss\";\r\nclass home extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = \"\";\r\n    console.log(props);\r\n  }\r\n  render() {\r\n    let showList = this.props.itemList\r\n      ? this.props.itemList.map(item => {\r\n          return (\r\n            <div className=\"item border-bottom\" key={Math.random()}>\r\n              <Link\r\n                to={{ pathname: \"/home/detail\", state: { id: item.data.id } }}\r\n              >\r\n                <img\r\n                  src={item.data.cover.detail.replace(\r\n                    \"quality/60\",\r\n                    \"quality/1000\"\r\n                  )}\r\n                  alt={item.data.id}\r\n                />\r\n              </Link>\r\n              <span className=\"duration\">\r\n                {parseInt(item.data.duration / 60) < 10\r\n                  ? \"0\" + parseInt(item.data.duration / 60)\r\n                  : parseInt(item.data.duration / 60)}\r\n                :\r\n                {item.data.duration % 60 < 10\r\n                  ? \"0\"+item.data.duration % 60\r\n                  : item.data.duration % 60}\r\n              </span>\r\n              <div className=\"description\">\r\n                <div className=\"headIcon\">\r\n                  <img src={item.data.author.icon} alt={item.data.author.id} />\r\n                </div>\r\n                <div className=\"center text-overflow\">\r\n                  <h2 className=\"text-overflow\">{item.data.title}</h2>\r\n                  <p>\r\n                    <span className=\"text-overflow\">\r\n                      {item.data.author.name}\r\n                    </span>\r\n                    &nbsp;/&nbsp;\r\n                    <span>#{item.data.category}</span>\r\n                  </p>\r\n                </div>\r\n                <em className=\"iconfont icon-fenxiang\"></em>\r\n              </div>\r\n            </div>\r\n          );\r\n        })\r\n      : \"\";\r\n    return (\r\n      <div className=\"page home\">\r\n        <Header title=\"首页\" hasBack={false}/>\r\n        <div className=\"pullRefetch\">\r\n          <p>{/* <em>↓</em>&nbsp;下拉可以刷新 */}</p>\r\n          {/* 释放立即刷新...↓ */}\r\n          {/* 正在刷新 */}\r\n        </div>\r\n        <Scroll\r\n          className=\"scroll\"\r\n          onRefresh={() => {\r\n            this.props.getData();\r\n          }}\r\n          onLoadMore\r\n        >\r\n          <div className=\"content\">\r\n            <div className=\"title\">\r\n              <h2>每日开眼精选</h2>\r\n              <a href=\"#background\">\r\n                查看往期<span className=\"iconfont icon-youfanhui-copy\"></span>\r\n              </a>\r\n            </div>\r\n            {showList}\r\n            <div\r\n              className=\"loadMore\"\r\n              onClick={this.loadMoreAction.bind(this, this.props.nextPageUrl)}\r\n            >加载更多...</div>\r\n            {/* <Link to={{pathname:\"/home/detail\",state:{id:10000}}} >详情</Link> */}\r\n          </div>\r\n        </Scroll>\r\n        <Tabs />\r\n      </div>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.itemList.length<=0) {\r\n      this.props.getData();\r\n    }\r\n  }\r\n  loadMoreAction(url){\r\n    this.props.getData(url);\r\n    console.log(url);\r\n    \r\n  }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    itemList: state.home.itemList,\r\n    nextPageUrl: state.home.nextPageUrl\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getData(url) {\r\n      let action = requestData(url);\r\n      dispatch(action);\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(home);\r\n"],"sourceRoot":""}